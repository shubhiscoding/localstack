{
  "tests/aws/services/lambda_/event_source_mapping/test_lambda_integration_kafka.py::TestKafkaSource::test_kafka_esm_basic_invoke": {
    "recorded-date": "26-02-2026, 11:12:01",
    "recorded-content": {
      "create_esm_response": {
        "BatchSize": 1,
        "EventSourceMappingArn": "arn:<partition>:lambda:<region>:111111111111:event-source-mapping:<uuid:1>",
        "FunctionArn": "arn:<partition>:lambda:<region>:111111111111:function:<resource:1>",
        "LastModified": "<datetime>",
        "MaximumBatchingWindowInSeconds": 0,
        "SelfManagedEventSource": {
          "Endpoints": {
            "KAFKA_BOOTSTRAP_SERVERS": [
              "localhost:9092"
            ]
          }
        },
        "SourceAccessConfigurations": [
          {
            "Type": "BASIC_AUTH",
            "URI": "arn:<partition>:secretsmanager:<region>:111111111111:secret:<resource:2>"
          }
        ],
        "StartingPosition": "TRIM_HORIZON",
        "State": "Creating",
        "StateTransitionReason": "User action",
        "Topics": [
          "<topic>"
        ],
        "UUID": "<uuid:1>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 202
        }
      },
      "kafka_event": {
        "Records": {
          "bootstrapServers": "localhost:9092",
          "eventSource": "SelfManagedKafka",
          "records": {
            "<topic>-0": [
              {
                "awsRegion": "<region>",
                "eventSource": "SelfManagedKafka",
                "headers": [],
                "key": "dGVzdC1rZXk=",
                "offset": "<offset>",
                "partition": 0,
                "timestamp": "<timestamp>",
                "timestampType": "CREATE_TIME",
                "topic": "<topic>",
                "value": "eyJoZWxsbyI6ICJ3b3JsZCJ9"
              }
            ]
          }
        }
      }
    }
  },
  "tests/aws/services/lambda_/event_source_mapping/test_lambda_integration_kafka.py::TestKafkaSource::test_kafka_esm_multiple_records_batch": {
    "recorded-date": "26-02-2026, 11:12:13",
    "recorded-content": {
      "kafka_batch_event": {
        "Records": {
          "bootstrapServers": "localhost:9092",
          "eventSource": "SelfManagedKafka",
          "records": {
            "<topic>-0": [
              {
                "awsRegion": "<region>",
                "eventSource": "SelfManagedKafka",
                "headers": [],
                "key": "a2V5LTA=",
                "offset": "<offset>",
                "partition": 0,
                "timestamp": "<timestamp>",
                "timestampType": "CREATE_TIME",
                "topic": "<topic>",
                "value": "eyJtZXNzYWdlIjogImhlbGxvLTAifQ=="
              },
              {
                "awsRegion": "<region>",
                "eventSource": "SelfManagedKafka",
                "headers": [],
                "key": "a2V5LTE=",
                "offset": "<offset>",
                "partition": 0,
                "timestamp": "<timestamp>",
                "timestampType": "CREATE_TIME",
                "topic": "<topic>",
                "value": "eyJtZXNzYWdlIjogImhlbGxvLTEifQ=="
              },
              {
                "awsRegion": "<region>",
                "eventSource": "SelfManagedKafka",
                "headers": [],
                "key": "a2V5LTI=",
                "offset": "<offset>",
                "partition": 0,
                "timestamp": "<timestamp>",
                "timestampType": "CREATE_TIME",
                "topic": "<topic>",
                "value": "eyJtZXNzYWdlIjogImhlbGxvLTIifQ=="
              },
              {
                "awsRegion": "<region>",
                "eventSource": "SelfManagedKafka",
                "headers": [],
                "key": "a2V5LTM=",
                "offset": "<offset>",
                "partition": 0,
                "timestamp": "<timestamp>",
                "timestampType": "CREATE_TIME",
                "topic": "<topic>",
                "value": "eyJtZXNzYWdlIjogImhlbGxvLTMifQ=="
              },
              {
                "awsRegion": "<region>",
                "eventSource": "SelfManagedKafka",
                "headers": [],
                "key": "a2V5LTQ=",
                "offset": "<offset>",
                "partition": 0,
                "timestamp": "<timestamp>",
                "timestampType": "CREATE_TIME",
                "topic": "<topic>",
                "value": "eyJtZXNzYWdlIjogImhlbGxvLTQifQ=="
              }
            ]
          }
        }
      }
    }
  },
  "tests/aws/services/lambda_/event_source_mapping/test_lambda_integration_kafka.py::TestKafkaSource::test_kafka_esm_filter_criteria": {
    "recorded-date": "26-02-2026, 11:12:25",
    "recorded-content": {
      "kafka_filtered_event": {
        "Records": {
          "bootstrapServers": "localhost:9092",
          "eventSource": "SelfManagedKafka",
          "records": {
            "<topic>-0": [
              {
                "awsRegion": "<region>",
                "eventSource": "SelfManagedKafka",
                "headers": [],
                "key": "azI=",
                "offset": "<offset>",
                "partition": 0,
                "timestamp": "<timestamp>",
                "timestampType": "CREATE_TIME",
                "topic": "<topic>",
                "value": "eyJzdGF0dXMiOiAicmVhZHkifQ=="
              }
            ]
          }
        }
      }
    }
  }
}
